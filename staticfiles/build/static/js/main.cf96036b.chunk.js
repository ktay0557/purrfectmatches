(this.webpackJsonpmoments=this.webpackJsonpmoments||[]).push([[0],{10:function(e,t,a){e.exports={Button:"Button_Button__27i9m",Wide:"Button_Wide__2ScDr",Purple:"Button_Purple__3BF9I",PurpleOutline:"Button_PurpleOutline__sUAj6",Bright:"Button_Bright__1MBHR",Black:"Button_Black__2dCp7",BlackOutline:"Button_BlackOutline__I-kZ-"}},104:function(e,t,a){},12:function(e,t,a){e.exports={App:"App_App__16ZpL",Main:"App_Main__HQkvd",Content:"App_Content__ZaMNr",FillerImage:"App_FillerImage__2ob-g",Image:"App_Image__3UPXw"}},135:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),c=a(29),r=a.n(c),l=(a(104),a(12)),i=a.n(l),o=a(15),d=a(16),j=a(56),b=a(14),u=a(99),m=a.p+"static/media/logo.35ad33d7.png",h=a(21),p=a.n(h),x=a(23),O=a.n(x);O.a.defaults.baseURL="/api",O.a.defaults.headers.post["Content-Type"]="multipart/form-data",O.a.defaults.withCredentials=!0;const v=O.a.create(),g=O.a.create();var f=a(13),A=a(87);const N=async(e,t)=>{try{const{data:a}=await v.get(e.next);t((e=>({...e,next:a.next,results:a.results.reduce(((e,t)=>e.some((e=>e.id===t.id))?e:[...e,t]),e.results)})))}catch(a){}},C=()=>{localStorage.removeItem("refreshTokenTimestamp")};var w=a(0);const y=Object(n.createContext)(),_=Object(n.createContext)(),B=()=>Object(n.useContext)(y),I=()=>Object(n.useContext)(_),S=e=>{let{children:t}=e;const[a,s]=Object(n.useState)(null),c=Object(f.f)();return Object(n.useEffect)((()=>{(async()=>{try{const{data:e}=await g.get("dj-rest-auth/user/");s(e)}catch(e){}})()}),[]),Object(n.useMemo)((()=>{v.interceptors.request.use((async e=>{if(localStorage.getItem("refreshTokenTimestamp"))try{await O.a.post("/dj-rest-auth/token/refresh/")}catch(t){return s((e=>(e&&c.push("/signin"),null))),e}return e}),(e=>Promise.reject(e))),g.interceptors.response.use((e=>e),(async e=>{var t;if(401===(null===(t=e.response)||void 0===t?void 0:t.status)){try{await O.a.post("/dj-rest-auth/token/refresh/")}catch(e){s((e=>(e&&c.push("/signin"),null))),C()}return O()(e.config)}return Promise.reject(e)}))}),[c]),Object(w.jsx)(y.Provider,{value:a,children:Object(w.jsx)(_.Provider,{value:s,children:t})})};var P=a(90),D=a.n(P);var L=e=>{let{src:t,height:a=45,text:n}=e;return Object(w.jsxs)("span",{children:[Object(w.jsx)("img",{className:D.a.Avatar,src:t,height:a,width:a,alt:"avatar"}),n]})};var k=()=>{const[e,t]=Object(n.useState)(!1),a=Object(n.useRef)(null);return Object(n.useEffect)((()=>{const e=e=>{a.current&&!a.current.contains(e.target)&&t(!1)};return document.addEventListener("mouseup",e),()=>{document.removeEventListener("mouseup",e)}}),[a]),{expanded:e,setExpanded:t,ref:a}};var E=()=>{const e=B(),t=I(),a=e&&e.is_staff_user,{expanded:n,setExpanded:s,ref:c}=k(),r=Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)(d.c,{className:p.a.NavLink,activeClassName:p.a.Active,to:"/adverts/create",children:[Object(w.jsx)("i",{className:"fa-regular fa-square-plus"}),"Create Advert"]}),Object(w.jsxs)(d.c,{exact:!0,className:p.a.NavLink,activeClassName:p.a.Active,to:"/adoptions",children:[Object(w.jsx)("i",{className:"fa-solid fa-clipboard-list"}),"Adoptions"]})]}),l=Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)(d.c,{className:p.a.NavLink,activeClassName:p.a.Active,to:"/liked",children:[Object(w.jsx)("i",{className:"fa-solid fa-thumbs-up"}),"Liked"]}),Object(w.jsxs)(d.c,{className:p.a.NavLink,activeClassName:p.a.Active,to:"/adoptions/create",children:[Object(w.jsx)("i",{className:"fa-solid fa-list"}),"Adopt a Cat"]}),Object(w.jsxs)(d.c,{className:p.a.NavLink,activeClassName:p.a.Active,to:"/about",children:[Object(w.jsx)("i",{className:"fa-solid fa-address-card"}),"About"]}),Object(w.jsxs)(d.c,{className:p.a.NavLink,to:"/",onClick:async()=>{try{await v.post("dj-rest-auth/logout/"),t(null),C(),o.b.success("Signed out successfully!",{position:"top-center"})}catch(e){}},children:[Object(w.jsx)("i",{className:"fa-solid fa-right-from-bracket"}),"Sign Out"]}),Object(w.jsx)(d.c,{className:p.a.NavLink,to:"/profiles/".concat(null===e||void 0===e?void 0:e.profile_id),children:Object(w.jsx)(L,{src:null===e||void 0===e?void 0:e.profile_image,text:"Profile",height:40})})]}),i=Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)(d.c,{className:p.a.NavLink,activeClassName:p.a.Active,to:"/about",children:[Object(w.jsx)("i",{className:"fa-solid fa-address-card"}),"About"]}),Object(w.jsxs)(d.c,{className:p.a.NavLink,activeClassName:p.a.Active,to:"/signin",children:[Object(w.jsx)("i",{className:"fa-solid fa-right-to-bracket"}),"Sign In"]}),Object(w.jsxs)(d.c,{className:p.a.NavLink,activeClassName:p.a.Active,to:"/signup",children:[Object(w.jsx)("i",{className:"fa-solid fa-user-plus"}),"Sign Up"]})]});return Object(w.jsx)(j.a,{expanded:n,className:p.a.NavBar,expand:"xl",fixed:"top",children:Object(w.jsxs)(b.a,{children:[Object(w.jsx)(d.c,{to:"/",children:Object(w.jsx)(j.a.Brand,{children:Object(w.jsx)("img",{src:m,alt:"logo",height:"45"})})}),Object(w.jsx)(j.a.Toggle,{ref:c,onClick:()=>s(!n),"aria-controls":"basic-navbar-nav"}),Object(w.jsx)(j.a.Collapse,{id:"basic-navbar-nav",children:Object(w.jsxs)(u.a,{className:"ml-auto text-left",children:[a?r:null,Object(w.jsxs)(d.c,{exact:!0,className:p.a.NavLink,activeClassName:p.a.Active,to:"/",children:[Object(w.jsx)("i",{className:"fa-solid fa-cat"}),"Cats"]}),e?l:i]})})]})})},Q=a(2),G=a(19),R=a(31),F=a(11),T=a(17),H=a(9),U=a(26),M=a.n(U),K=a(10),W=a.n(K);const Y=e=>{const t=Object(f.f)();Object(n.useEffect)((()=>{(async()=>{try{await O.a.post("/dj-rest-auth/token/refresh/"),"loggedIn"===e&&t.push("/")}catch(a){"loggedOut"===e&&t.push("/")}})()}),[t,e])};var V=()=>{var e,t,a,s;Y("loggedIn");const[c,r]=Object(n.useState)({username:"",password1:"",password2:""}),{username:l,password1:j,password2:u}=c,[m,h]=Object(n.useState)({}),p=Object(f.f)(),x=e=>{r({...c,[e.target.name]:e.target.value})};return Object(w.jsxs)(T.a,{className:M.a.Row,children:[Object(w.jsxs)(F.a,{className:"my-auto py-2 p-md-2",md:6,children:[Object(w.jsxs)(b.a,{className:"".concat(i.a.Content," p-4 "),children:[Object(w.jsx)("h1",{className:M.a.Header,children:"sign up"}),Object(w.jsxs)(Q.a,{onSubmit:async e=>{e.preventDefault();try{await O.a.post("/dj-rest-auth/registration/",c),p.push("/signin"),o.b.success("Successfully signed up! Please log in",{position:"top-center"})}catch(a){var t;o.b.error("Did not sign up. Please try again",{position:"top-center"}),h(null===(t=a.response)||void 0===t?void 0:t.data)}},children:[Object(w.jsxs)(Q.a.Group,{controlId:"username",children:[Object(w.jsx)(Q.a.Label,{className:"d-none",children:"Username"}),Object(w.jsx)(Q.a.Control,{className:M.a.Input,type:"text",placeholder:"Username",name:"username",value:l,onChange:x})]}),null===(e=m.username)||void 0===e?void 0:e.map(((e,t)=>Object(w.jsx)(H.a,{variant:"warning",children:e},t))),Object(w.jsxs)(Q.a.Group,{controlId:"password1",children:[Object(w.jsx)(Q.a.Label,{className:"d-none",children:"Password"}),Object(w.jsx)(Q.a.Control,{className:M.a.Input,type:"password",placeholder:"Password",name:"password1",value:j,onChange:x})]}),null===(t=m.password1)||void 0===t?void 0:t.map(((e,t)=>Object(w.jsx)(H.a,{variant:"warning",children:e},t))),Object(w.jsxs)(Q.a.Group,{controlId:"password2",children:[Object(w.jsx)(Q.a.Label,{className:"d-none",children:"Confirm Password"}),Object(w.jsx)(Q.a.Control,{className:M.a.Input,type:"password",placeholder:"Confirm Password",name:"password2",value:u,onChange:x})]}),null===(a=m.password2)||void 0===a?void 0:a.map(((e,t)=>Object(w.jsx)(H.a,{variant:"warning",children:e},t))),Object(w.jsx)(G.a,{className:"".concat(W.a.Button," ").concat(W.a.Wide," ").concat(W.a.Bright),type:"submit",children:"Sign Up!"}),null===(s=m.non_field_errors)||void 0===s?void 0:s.map(((e,t)=>Object(w.jsx)(H.a,{variant:"warning",className:"mt-3",children:e},t)))]})]}),Object(w.jsx)(b.a,{className:"mt-3 ".concat(i.a.Content),children:Object(w.jsxs)(d.b,{className:M.a.Link,to:"/signin",children:["Already have an account? ",Object(w.jsx)("span",{children:"Sign in"})]})})]}),Object(w.jsx)(F.a,{md:6,className:"my-auto d-none d-md-block p-2 ".concat(M.a.SignUpCol),children:Object(w.jsx)(R.a,{className:"".concat(i.a.FillerImage),src:"https://res.cloudinary.com/dzczvxofb/image/upload/v1711730553/media/images/line_1559407197247_v4kil8.jpg"})})]})};var Z=function(){var e,t,a;const s=I();Y("loggedIn");const[c,r]=Object(n.useState)({username:"",password:""}),{username:l,password:j}=c,[u,m]=Object(n.useState)({}),h=Object(f.f)(),p=e=>{r({...c,[e.target.name]:e.target.value})};return Object(w.jsxs)(T.a,{className:M.a.Row,children:[Object(w.jsxs)(F.a,{className:"my-auto p-0 p-md-2",md:6,children:[Object(w.jsxs)(b.a,{className:"".concat(i.a.Content," p-4 "),children:[Object(w.jsx)("h1",{className:M.a.Header,children:"sign in"}),Object(w.jsxs)(Q.a,{onSubmit:async e=>{e.preventDefault();try{const{data:e}=await O.a.post("/dj-rest-auth/login/",c);s(e.user),(e=>{const t=Object(A.a)(null===e||void 0===e?void 0:e.refresh_token).exp;localStorage.setItem("refreshTokenTimestamp",t)})(e),h.goBack(),o.b.success("Welcome ".concat(l),{position:"top-center"})}catch(a){var t;o.b.error("Could not log in. Please try again",{position:"top-center"}),m(null===(t=a.response)||void 0===t?void 0:t.data)}},children:[Object(w.jsxs)(Q.a.Group,{controlId:"username",children:[Object(w.jsx)(Q.a.Label,{className:"d-none",children:"Username"}),Object(w.jsx)(Q.a.Control,{className:M.a.Input,type:"text",placeholder:"Username",name:"username",value:l,onChange:p})]}),null===(e=u.username)||void 0===e?void 0:e.map(((e,t)=>Object(w.jsx)(H.a,{variant:"warning",children:e},t))),Object(w.jsxs)(Q.a.Group,{controlId:"password",children:[Object(w.jsx)(Q.a.Label,{className:"d-none",children:"Password"}),Object(w.jsx)(Q.a.Control,{className:M.a.Input,type:"password",placeholder:"Password",name:"password",value:j,onChange:p})]}),null===(t=u.password)||void 0===t?void 0:t.map(((e,t)=>Object(w.jsx)(H.a,{variant:"warning",children:e},t))),Object(w.jsx)(G.a,{className:"".concat(W.a.Button," ").concat(W.a.Wide," ").concat(W.a.Bright),type:"submit",children:"Sign In!"}),null===(a=u.non_field_errors)||void 0===a?void 0:a.map(((e,t)=>Object(w.jsx)(H.a,{variant:"warning",className:"mt-3",children:e},t)))]})]}),Object(w.jsx)(b.a,{className:"mt-3 ".concat(i.a.Content),children:Object(w.jsxs)(d.b,{className:M.a.Link,to:"/signup",children:["Don't have an account? ",Object(w.jsx)("span",{children:"Sign up now!"})]})})]}),Object(w.jsx)(F.a,{md:6,className:"my-auto d-none d-md-block p-2 ".concat(M.a.SignInCol),children:Object(w.jsx)(R.a,{className:"".concat(i.a.FillerImage),src:"https://res.cloudinary.com/dzczvxofb/image/upload/v1711957873/media/images/line_1557857848299_shypkm.jpg"})})]})},q=(a(134),a(60)),z=a.n(q),J=a(92),X=a(91),$=a.n(X);var ee=e=>{let{spinner:t,src:a,message:n}=e;return Object(w.jsxs)("div",{className:"".concat($.a.Asset," p-4"),children:[t&&Object(w.jsx)(J.a,{animation:"grow",variant:"secondary"}),a&&Object(w.jsx)("img",{src:a,alt:n}),n&&Object(w.jsx)("p",{className:"mt-4",children:n})]})};var te=function(){var e,t,a,s,c,r,l,d,j,u;const[m,h]=Object(n.useState)({title:"",name:"",age:"",breed:"",sex:"",children:"",other_animals:"",content:"",image:""}),{title:p,name:x,age:O,breed:g,sex:A,children:N,other_animals:C,content:y,image:_}=m,[B,I]=Object(n.useState)({}),S=Object(n.useRef)(null),P=Object(f.f)(),D=e=>{h({...m,[e.target.name]:e.target.value})},L=Object(w.jsxs)("div",{className:"text-center",children:[Object(w.jsxs)(Q.a.Group,{children:[Object(w.jsx)(Q.a.Label,{children:"Title"}),Object(w.jsx)(Q.a.Control,{type:"text",name:"title",value:p,onChange:D})]}),null===(e=B.title)||void 0===e?void 0:e.map(((e,t)=>Object(w.jsx)(H.a,{variant:"warning",children:e},t))),Object(w.jsxs)(Q.a.Group,{children:[Object(w.jsx)(Q.a.Label,{children:"Cat's Name"}),Object(w.jsx)(Q.a.Control,{type:"text",name:"name",value:x,onChange:D})]}),null===(t=B.name)||void 0===t?void 0:t.map(((e,t)=>Object(w.jsx)(H.a,{variant:"warning",children:e},t))),Object(w.jsxs)(Q.a.Group,{children:[Object(w.jsx)(Q.a.Label,{children:"Age"}),Object(w.jsx)(Q.a.Control,{type:"text",name:"age",value:O,onChange:D})]}),null===(a=B.age)||void 0===a?void 0:a.map(((e,t)=>Object(w.jsx)(H.a,{variant:"warning",children:e},t))),Object(w.jsxs)(Q.a.Group,{children:[Object(w.jsx)(Q.a.Label,{children:"Breed"}),Object(w.jsx)(Q.a.Control,{type:"text",name:"breed",value:g,onChange:D})]}),null===(s=B.breed)||void 0===s?void 0:s.map(((e,t)=>Object(w.jsx)(H.a,{variant:"warning",children:e},t))),Object(w.jsxs)(Q.a.Group,{children:[Object(w.jsx)(Q.a.Label,{children:"Sex"}),Object(w.jsx)(Q.a.Control,{type:"text",name:"sex",value:A,onChange:D})]}),null===(c=B.sex)||void 0===c?void 0:c.map(((e,t)=>Object(w.jsx)(H.a,{variant:"warning",children:e},t))),Object(w.jsxs)(Q.a.Group,{children:[Object(w.jsx)(Q.a.Label,{children:"Behaviour around children"}),Object(w.jsx)(Q.a.Control,{type:"text",name:"children",value:N,onChange:D})]}),null===(r=B.children)||void 0===r?void 0:r.map(((e,t)=>Object(w.jsx)(H.a,{variant:"warning",children:e},t))),Object(w.jsxs)(Q.a.Group,{children:[Object(w.jsx)(Q.a.Label,{children:"Behaviour around animals"}),Object(w.jsx)(Q.a.Control,{type:"text",name:"other_animals",value:C,onChange:D})]}),null===(l=B.other_animals)||void 0===l?void 0:l.map(((e,t)=>Object(w.jsx)(H.a,{variant:"warning",children:e},t))),Object(w.jsxs)(Q.a.Group,{children:[Object(w.jsx)(Q.a.Label,{children:"Additional Information"}),Object(w.jsx)(Q.a.Control,{as:"textarea",rows:4,name:"content",value:y,onChange:D})]}),null===(d=B.content)||void 0===d?void 0:d.map(((e,t)=>Object(w.jsx)(H.a,{variant:"warning",children:e},t))),Object(w.jsx)(G.a,{className:"".concat(W.a.Button," ").concat(W.a.Purple),onClick:()=>P.goBack(),children:"Cancel"}),Object(w.jsx)(G.a,{className:"".concat(W.a.Button," ").concat(W.a.Purple),type:"submit",children:"Create"})]});return Object(w.jsxs)(Q.a,{onSubmit:async e=>{e.preventDefault();const t=new FormData;t.append("title",p),t.append("name",x),t.append("age",O),t.append("breed",g),t.append("sex",A),t.append("children",N),t.append("other_animals",C),t.append("content",y),t.append("image",S.current.files[0]);try{const{data:e}=await v.post("/adverts/",t);P.push("/adverts/".concat(e.id)),o.b.success("Advert added successfully!",{position:"top-center"})}catch(s){var a,n;if(404!==(null===(a=s.response)||void 0===a?void 0:a.status))o.b.error("Could not submit. Please try again",{position:"top-center"}),I(null===(n=s.response)||void 0===n?void 0:n.data)}},children:[Object(w.jsxs)(T.a,{children:[Object(w.jsx)(F.a,{md:5,lg:4,className:"d-none d-md-block p-0 p-md-2",children:Object(w.jsx)(b.a,{className:i.a.Content,children:L})}),Object(w.jsx)(F.a,{className:"py-2 p-0 p-md-2",md:7,lg:8,children:Object(w.jsxs)(b.a,{className:"".concat(i.a.Content," ").concat(z.a.Container," d-flex flex-column justify-content-center"),children:[Object(w.jsxs)(Q.a.Group,{className:"text-center",children:[_?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("figure",{children:Object(w.jsx)(R.a,{className:i.a.Image,src:_,rounded:!0})}),Object(w.jsx)("div",{children:Object(w.jsx)(Q.a.Label,{className:"".concat(W.a.Button," ").concat(W.a.Purple," btn"),htmlFor:"image-upload",children:"Select Different Image"})})]}):Object(w.jsx)(Q.a.Label,{className:"d-flex justify-content-center",htmlFor:"image-upload",children:Object(w.jsx)(ee,{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAQfSURBVHhe7ZMBbhUxDES5DyfhFnA2uGeRQYbBjGMnu4m3/X7Sk/oTO5t41E9vTSkdQDEdQDEdQDEdQDEdQDEdQDEdQDEdQDEdQDEdQDEdQDEdQDEdQDEdQDEdQDEdQDEdQDEdQDEdQDEdQDEdQDEdQDEdQDEdQDHvKoDvX3788uvnb3/+Zr4nHh8AG7AYhaA+nUcGoMOLhpwNQX0ijwrADiwz4NkQxCfxmADYoMS7/gts3VMoDwCHwrzrv8CrqaY0ADYQ5tUQov5KygKQh8tgrHY46mhP9WpG67pXRUkAo2HqUDxZj8r2vR62XsHxALzHZ5Q+T6yxPfa3XUNPczQAfOhoCJ6jHh0squu4jz2eJ3lXAYjZPh24ymo8T3IsAPZQO5jswLIDzdYxT/GoAFANgtVkBuv1MrUWe05xJAD7YDQzJDsgldWqum97mLZX+05wJADvkeJob6QOb0Z2jqfUn2B7APggfCA6OxzV65tdt2LdbrYHII/RB10dDNP2RmfJfqZG/97N0f8AVNdx365lxL6ZM/Qetsf+3s3WAPAhqj4QB4BrWJsVz1hR+626v5PjAYj4OFxjj49c6fHEs9CdlAQgysNG6ziAkax3RXaeupPHBSBeHSRb99TBj/p2UhaA6D16dojWaKCirRnV76Q0ANF7eDTAjHbI0RpT9neyLQB8QKRXl+2P1LuMZH3qTrYGIJe3D0XxkfY3rnt7kdo76s+cvZPtAYjeI3U4nrYWfzNH/Z6Zup0cCUDMPJT1zIi9GbM9O9kagIAPyTw4W6Oy/ayZ/t0cDUDMPHpmuFqLsjprtm432wIQvEfePSSr9EWyPuZuhgGwi8+g9exheh7bQzM1s+q3R0rdLOyciLIAVKlh66h+m+3NOnPOLHpPNOJIAAJ7oCp1bN2arfOc6V9BzrdGHAvAnmMfzNaYozNGztavgHdTI44FIOAD7bm4hnUjsX/U6617rmLvIkaUBWC132E1Ge05q66wcs7WAATbw4bGtN8VWR1zpUe9An5XjTgegMAe7in9+HdG7J/xKuwuESUBCGwAnvpttneXd6D3RCPKAhDYIEbau7CaFe/C3k+MKA0Az2WDicR+K6tn3gm7R0RpAAh+gw1qVjyPKTV3w74T8ZgABG94un6Xu7D3FiMeFYBiB2bvgGbrxN2sfPORASg4XE+8G9sXT4F3USNuDYDVRT0zsOEyq8D3qxHb/gNm6z8COKfs+6cDEBvOyqyGAQgrh74ibE5ixFIAYvMvqzNaDkBsfsNmI2YIAxDY4eorw+ahZkkFILCPoK8Eez86QzoAgX2s/d8ZpgIQ2Afbv84yHYDAPvzqrrIUgMIu8ope4VIACrvUR/cubgmgWacDKKYDKKYDKKYDKKYDKKYDKKYDKKYDKKYDKKYDKOXt7Scdo+/m+q1VzgAAAABJRU5ErkJggg==",message:"Tap to upload your image"})}),Object(w.jsx)(Q.a.File,{id:"image-upload",accept:"image/*",onChange:e=>{e.target.files.length&&(URL.revokeObjectURL(_),h({...m,image:URL.createObjectURL(e.target.files[0])}))},ref:S})]}),null===B||void 0===B||null===(j=B.image)||void 0===j?void 0:j.map(((e,t)=>Object(w.jsx)(H.a,{variant:"warning",children:e},t))),Object(w.jsx)("div",{className:"d-md-none",children:L})]})})]}),null===(u=B.non_field_errors)||void 0===u?void 0:u.map(((e,t)=>Object(w.jsx)(H.a,{variant:"warning",className:"mt-3",children:e},t)))]})},ae=a(48),ne=a(20),se=a(43),ce=a(77),re=a(73),le=a(54),ie=a.n(le),oe=a(25),de=a(55),je=a.n(de);const be=s.a.forwardRef(((e,t)=>{let{onClick:a}=e;return Object(w.jsx)("i",{className:"fas fa-ellipsis-v",ref:t,onClick:e=>{e.preventDefault(),a(e)}})})),ue=e=>{let{handleEdit:t,handleDelete:a}=e;return Object(w.jsxs)(oe.a,{className:"ml-auto",drop:"left",children:[Object(w.jsx)(oe.a.Toggle,{as:be}),Object(w.jsxs)(oe.a.Menu,{className:"text-center",popperConfig:{strategy:"fixed"},children:[Object(w.jsx)(oe.a.Item,{className:je.a.DropdownItem,onClick:t,"aria-label":"edit",children:Object(w.jsx)("i",{className:"fas fa-edit"})}),Object(w.jsx)(oe.a.Item,{className:je.a.DropdownItem,onClick:a,"aria-label":"delete",children:Object(w.jsx)("i",{className:"fas fa-trash-alt"})})]})]})},me=e=>{let{handleDelete:t}=e;return Object(w.jsxs)(oe.a,{className:"ml-auto",drop:"left",children:[Object(w.jsx)(oe.a.Toggle,{as:be}),Object(w.jsx)(oe.a.Menu,{className:"text-center",popperConfig:{strategy:"fixed"},children:Object(w.jsx)(oe.a.Item,{className:je.a.DropdownItem,onClick:t,"aria-label":"delete",children:Object(w.jsx)("i",{className:"fas fa-trash-alt"})})})]})};function he(e){let{id:t}=e;const a=Object(f.f)();return Object(w.jsxs)(oe.a,{className:"ml-auto px-3 ".concat(je.a.Absolute),drop:"left",children:[Object(w.jsx)(oe.a.Toggle,{as:be}),Object(w.jsxs)(oe.a.Menu,{children:[Object(w.jsxs)(oe.a.Item,{onClick:()=>a.push("/profiles/".concat(t,"/edit")),"aria-label":"edit-profile",children:[Object(w.jsx)("i",{className:"fas fa-edit"})," Edit Details"]}),Object(w.jsxs)(oe.a.Item,{onClick:()=>a.push("/profiles/".concat(t,"/edit/username")),"aria-label":"edit-username",children:[Object(w.jsx)("i",{className:"far fa-id-card"}),"Change Username"]}),Object(w.jsxs)(oe.a.Item,{onClick:()=>a.push("/profiles/".concat(t,"/edit/password")),"aria-label":"edit-password",children:[Object(w.jsx)("i",{className:"fas fa-key"}),"Change Password"]})]})]})}var pe=e=>{const{id:t,owner:a,updated_at:n,title:s,name:c,age:r,breed:l,sex:j,children:b,other_animals:u,content:m,image:h,like_id:p,likes_count:x,comments_count:O,advertPage:v,setAdverts:A}=e,N=B(),C=(null===N||void 0===N?void 0:N.username)===a,y=Object(f.f)();return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("hr",{}),Object(w.jsxs)(ne.a,{className:i.a.Content,children:[Object(w.jsxs)(ne.a.Body,{children:[Object(w.jsxs)(se.a,{className:"align-items-center justify-content-between",children:[Object(w.jsx)("div",{className:"d-flex align-items-center",children:Object(w.jsx)(ne.a.Title,{className:"".concat(ie.a.CardTitle),children:s})}),C&&v&&Object(w.jsx)(ue,{handleEdit:()=>{y.push("/adverts/".concat(t,"/edit"))},handleDelete:async()=>{try{await g.delete("/adverts/".concat(t,"/")),o.b.success("Advert deleted successfully",{position:"top-center"}),y.goBack()}catch(e){}}})]}),Object(w.jsx)(d.b,{to:"/adverts/".concat(t),children:Object(w.jsx)(ne.a.Img,{src:h,alt:s})})]}),Object(w.jsxs)(ne.a.Body,{children:[c&&Object(w.jsxs)(ne.a.Text,{className:"text-left",children:[Object(w.jsx)("strong",{children:"Name:"})," ",c]}),r&&Object(w.jsxs)(ne.a.Text,{className:"text-left",children:[Object(w.jsx)("strong",{children:"Age:"})," ",r]}),l&&Object(w.jsxs)(ne.a.Text,{className:"text-left",children:[Object(w.jsx)("strong",{children:"Breed:"})," ",l]}),j&&Object(w.jsxs)(ne.a.Text,{className:"text-left",children:[Object(w.jsx)("strong",{children:"Sex:"})," ",j]}),b&&Object(w.jsxs)(ne.a.Text,{className:"text-left",children:[Object(w.jsx)("strong",{children:"Behaviour with children:"})," ",b]}),u&&Object(w.jsxs)(ne.a.Text,{className:"text-left",children:[Object(w.jsx)("strong",{children:"Behaviour with animals:"})," ",u]}),m&&Object(w.jsxs)(ne.a.Text,{className:"text-left",children:[Object(w.jsx)("strong",{children:"Additional Infomation:"})," ",m]})]}),Object(w.jsxs)("div",{className:ie.a.AdvertBar,children:[C?Object(w.jsx)(ce.a,{placement:"top",overlay:Object(w.jsx)(re.a,{children:"You cannot like what you create"}),children:Object(w.jsx)("i",{className:"far fa-heart"})}):p?Object(w.jsx)("span",{onClick:async()=>{try{await g.delete("/likes/".concat(p,"/")),A((e=>({...e,results:e.results.map((e=>e.id===t?{...e,likes_count:e.likes_count-1,like_id:null}:e))})))}catch(e){}},children:Object(w.jsx)("i",{className:"fas fa-heart ".concat(ie.a.Heart)})}):N?Object(w.jsx)("span",{onClick:async()=>{try{const{data:e}=await g.post("/likes/",{advert:t});A((a=>({...a,results:a.results.map((a=>a.id===t?{...a,likes_count:a.likes_count+1,like_id:e.id}:a))})))}catch(e){}},children:Object(w.jsx)("i",{className:"fas fa-heart ".concat(ie.a.HeartOutline)})}):Object(w.jsx)(ce.a,{placement:"top",overlay:Object(w.jsx)(re.a,{children:"Log in to like!"}),children:Object(w.jsx)("i",{className:"far fa-heart"})}),x,Object(w.jsx)(d.b,{to:"/adverts/".concat(t),children:Object(w.jsx)("i",{className:"far fa-comments"})}),O,Object(w.jsx)("hr",{}),Object(w.jsx)("span",{children:n})]})]})]})},xe=a(93),Oe=a(45),ve=a.n(Oe);var ge=function(e){const{advert:t,setAdvert:a,setComments:s,profileImage:c,profile_id:r}=e,[l,i]=Object(n.useState)("");return Object(w.jsxs)(Q.a,{className:"mt-2",onSubmit:async e=>{e.preventDefault();try{const{data:e}=await g.post("/comments/",{content:l,advert:t});s((t=>({...t,results:[e,...t.results]}))),a((e=>({results:[{...e.results[0],comments_count:e.results[0].comments_count+1}]}))),o.b.success("Comment added successfully",{position:"top-center"}),i("")}catch(n){o.b.error("Comment could not be added. Please try again",{position:"top-center"})}},children:[Object(w.jsx)(Q.a.Group,{children:Object(w.jsxs)(xe.a,{children:[Object(w.jsx)(d.b,{to:"/profiles/".concat(r),children:Object(w.jsx)(L,{src:c})}),Object(w.jsx)(Q.a.Control,{className:ve.a.Form,placeholder:"my comment...",as:"textarea",value:l,onChange:e=>{i(e.target.value)},rows:2})]})}),Object(w.jsx)("button",{className:"".concat(ve.a.Button," btn d-block ml-auto"),disabled:!l.trim(),type:"submit",children:"Comment"})]})},fe=a(74),Ae=a.n(fe);var Ne=function(e){const{id:t,content:a,setShowEditForm:s,setComments:c}=e,[r,l]=Object(n.useState)(a);return Object(w.jsxs)(Q.a,{onSubmit:async e=>{e.preventDefault();try{await g.put("/comments/".concat(t,"/"),{content:r.trim()}),c((e=>({...e,results:e.results.map((e=>e.id===t?{...e,content:r.trim(),updated_at:"now"}:e))}))),o.b.success("Comment edited successfully",{position:"top-center"}),s(!1)}catch(a){o.b.error("Comment not updated. Please try again",{position:"top-center"})}},children:[Object(w.jsx)(Q.a.Group,{className:"pr-1",children:Object(w.jsx)(Q.a.Control,{className:ve.a.Form,as:"textarea",value:r,onChange:e=>{l(e.target.value)},rows:2})}),Object(w.jsxs)("div",{className:"text-right",children:[Object(w.jsx)("button",{className:ve.a.Button,onClick:()=>s(!1),type:"button",children:"cancel"}),Object(w.jsx)("button",{className:ve.a.Button,disabled:!a.trim(),type:"submit",children:"update"})]})]})};var Ce=e=>{const{profile_id:t,profile_image:a,owner:s,updated_at:c,content:r,id:l,setAdvert:i,setComments:d}=e,[j,b]=Object(n.useState)(!1),u=B(),m=(null===u||void 0===u?void 0:u.username)===s;return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("hr",{}),Object(w.jsxs)(se.a,{children:[Object(w.jsx)(L,{src:a}),Object(w.jsxs)(se.a.Body,{className:"align-self-center ml-2",children:[Object(w.jsx)("span",{className:Ae.a.Owner,children:s}),Object(w.jsx)("span",{className:Ae.a.Date,children:c}),j?Object(w.jsx)(Ne,{id:l,profile_id:t,content:r,profileImage:a,setComments:d,setShowEditForm:b}):Object(w.jsx)("p",{children:r})]}),m&&!j&&Object(w.jsx)(ue,{handleEdit:()=>b(!0),handleDelete:async()=>{try{await g.delete("/comments/".concat(l,"/")),i((e=>({results:[{...e.results[0],comments_count:e.results[0].comments_count-1}]}))),o.b.success("Comment deleted successfully",{position:"top-center"}),d((e=>({...e,results:e.results.filter((e=>e.id!==l))})))}catch(e){}}})]})]})};var we=function(){const{id:e}=Object(f.h)(),[t,a]=Object(n.useState)({results:[]}),s=B(),c=null===s||void 0===s?void 0:s.profile_image,[r,l]=Object(n.useState)({results:[]});return Object(n.useEffect)((()=>{(async()=>{try{const[{data:t},{data:n}]=await Promise.all([v.get("/adverts/".concat(e)),v.get("/comments/?advert=".concat(e))]);a({results:[t]}),l(n)}catch(t){}})()}),[e]),Object(w.jsxs)(T.a,{className:"h-100",children:[Object(w.jsx)(F.a,{className:"py-2 p-0 p-lg-2",lg:6,children:Object(w.jsx)(pe,{...t.results[0],setAdverts:a,advertPage:!0})}),Object(w.jsx)(F.a,{className:"py-2 p-0 p-lg-2",lg:6,children:Object(w.jsxs)(b.a,{className:i.a.Content,children:[s?Object(w.jsx)(ge,{profile_id:s.profile_id,profileImage:c,advert:e,setAdvert:a,setComments:l}):r.results.length?"Comments":null,r.results.length?Object(w.jsx)(ae.a,{children:r.results.map((e=>Object(w.jsx)(Ce,{...e,setAdvert:a,setComments:l},e.id))),dataLength:r.results.length,loader:Object(w.jsx)(ee,{spinner:!0}),hasMore:!!r.next,next:()=>N(r,l)}):s?Object(w.jsx)("span",{children:"Nothing here yet, be the first to comment!"}):Object(w.jsx)("span",{children:"Nothing here yet, why not join us to comment!"})]})})]})},ye=a(75),_e=a.n(ye),Be="data:image/png;base64,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",Ie=a(94),Se=a.n(Ie);var Pe=e=>{let{mobile:t}=e;return Object(w.jsx)(b.a,{className:"".concat(Se.a.Content," ").concat(t&&"d-lg-none text-center mb-3"),children:Object(w.jsxs)("p",{children:["There are currently around a quarter of a million cats without a forever home in the UK. ",Object(w.jsx)("br",{}),"Lets work together to reduce those numbers."]})})};var De=function(e){let{message:t,filter:a=""}=e;const[s,c]=Object(n.useState)({results:[]}),[r,l]=Object(n.useState)(!1),{pathname:o}=Object(f.g)(),[d,j]=Object(n.useState)(""),u=B();return Object(n.useEffect)((()=>{l(!1);const e=setTimeout((()=>{(async()=>{try{const{data:e}=await v.get("/adverts/?".concat(a,"search=").concat(d));c(e),l(!0)}catch(e){}})()}),1e3);return()=>{clearTimeout(e)}}),[a,d,o,u]),Object(w.jsxs)(T.a,{className:"h-100",children:[Object(w.jsxs)(F.a,{className:"py-2 p-0 p-lg-2",lg:8,children:[Object(w.jsx)(Pe,{mobile:!0}),Object(w.jsx)("i",{className:"fas fa-search ".concat(_e.a.SearchIcon)}),Object(w.jsx)(Q.a,{className:_e.a.SearchBar,onSubmit:e=>e.preventDefault(),children:Object(w.jsx)(Q.a.Control,{type:"text",className:"mr-sm-2",placeholder:"Search Our Cats",value:d,onChange:e=>j(e.target.value)})}),r?Object(w.jsx)(w.Fragment,{children:s.results.length?Object(w.jsx)(ae.a,{children:s.results.map((e=>Object(w.jsx)(pe,{...e,setAdverts:c},e.id))),dataLength:s.results.length,loader:Object(w.jsx)(ee,{spinner:!0}),hasMore:!!s.next,next:()=>N(s,c)}):Object(w.jsx)(b.a,{className:i.a.Content,children:Object(w.jsx)(ee,{src:Be,message:t})})}):Object(w.jsx)(b.a,{children:Object(w.jsx)(ee,{spinner:!0})})]}),Object(w.jsx)(F.a,{md:4,className:"d-none d-lg-block p-0 p-lg-2",children:Object(w.jsx)(Pe,{})})]})};var Le=function(){var e,t,a,s,c,r,l,d,j,u;const[m,h]=Object(n.useState)({title:"",name:"",age:"",breed:"",sex:"",children:"",other_animals:"",content:"",image:""}),{title:p,name:x,age:O,breed:g,sex:A,children:N,other_animals:C,content:y,image:_}=m,[B,I]=Object(n.useState)({}),S=Object(n.useRef)(null),P=Object(f.f)(),{id:D}=Object(f.h)();Object(n.useEffect)((()=>{(async()=>{try{const{data:e}=await v.get("/adverts/".concat(D,"/")),{title:t,name:a,age:n,breed:s,sex:c,children:r,other_animals:l,content:i,image:o,is_owner:d}=e;d?h({title:t,name:a,age:n,breed:s,sex:c,children:r,other_animals:l,content:i,image:o}):P.push("/")}catch(e){}})()}),[P,D]);const L=e=>{h({...m,[e.target.name]:e.target.value})},k=Object(w.jsxs)("div",{className:"text-center",children:[Object(w.jsxs)(Q.a.Group,{children:[Object(w.jsx)(Q.a.Label,{children:"Title"}),Object(w.jsx)(Q.a.Control,{type:"text",name:"title",value:p,onChange:L})]}),null===(e=B.title)||void 0===e?void 0:e.map(((e,t)=>Object(w.jsx)(H.a,{variant:"warning",children:e},t))),Object(w.jsxs)(Q.a.Group,{children:[Object(w.jsx)(Q.a.Label,{children:"Cat's Name"}),Object(w.jsx)(Q.a.Control,{type:"text",name:"name",value:x,onChange:L})]}),null===(t=B.name)||void 0===t?void 0:t.map(((e,t)=>Object(w.jsx)(H.a,{variant:"warning",children:e},t))),Object(w.jsxs)(Q.a.Group,{children:[Object(w.jsx)(Q.a.Label,{children:"Age"}),Object(w.jsx)(Q.a.Control,{type:"text",name:"age",value:O,onChange:L})]}),null===(a=B.age)||void 0===a?void 0:a.map(((e,t)=>Object(w.jsx)(H.a,{variant:"warning",children:e},t))),Object(w.jsxs)(Q.a.Group,{children:[Object(w.jsx)(Q.a.Label,{children:"Breed"}),Object(w.jsx)(Q.a.Control,{type:"text",name:"breed",value:g,onChange:L})]}),null===(s=B.breed)||void 0===s?void 0:s.map(((e,t)=>Object(w.jsx)(H.a,{variant:"warning",children:e},t))),Object(w.jsxs)(Q.a.Group,{children:[Object(w.jsx)(Q.a.Label,{children:"Sex"}),Object(w.jsx)(Q.a.Control,{type:"text",name:"sex",value:A,onChange:L})]}),null===(c=B.sex)||void 0===c?void 0:c.map(((e,t)=>Object(w.jsx)(H.a,{variant:"warning",children:e},t))),Object(w.jsxs)(Q.a.Group,{children:[Object(w.jsx)(Q.a.Label,{children:"Behaviour around children"}),Object(w.jsx)(Q.a.Control,{type:"text",name:"children",value:N,onChange:L})]}),null===(r=B.children)||void 0===r?void 0:r.map(((e,t)=>Object(w.jsx)(H.a,{variant:"warning",children:e},t))),Object(w.jsxs)(Q.a.Group,{children:[Object(w.jsx)(Q.a.Label,{children:"Behaviour around animals"}),Object(w.jsx)(Q.a.Control,{type:"text",name:"other_animals",value:C,onChange:L})]}),null===(l=B.other_animals)||void 0===l?void 0:l.map(((e,t)=>Object(w.jsx)(H.a,{variant:"warning",children:e},t))),Object(w.jsxs)(Q.a.Group,{children:[Object(w.jsx)(Q.a.Label,{children:"Additional Information"}),Object(w.jsx)(Q.a.Control,{as:"textarea",rows:4,name:"content",value:y,onChange:L})]}),null===(d=B.content)||void 0===d?void 0:d.map(((e,t)=>Object(w.jsx)(H.a,{variant:"warning",children:e},t))),Object(w.jsx)(G.a,{className:"".concat(W.a.Button," ").concat(W.a.Purple),onClick:()=>P.goBack(),children:"Cancel"}),Object(w.jsx)(G.a,{className:"".concat(W.a.Button," ").concat(W.a.Purple),type:"submit",children:"Update"})]});return Object(w.jsxs)(Q.a,{onSubmit:async e=>{var t;e.preventDefault();const a=new FormData;a.append("title",p),a.append("name",x),a.append("age",O),a.append("breed",g),a.append("sex",A),a.append("children",N),a.append("other_animals",C),a.append("content",y),null!==S&&void 0!==S&&null!==(t=S.current)&&void 0!==t&&t.files[0]&&a.append("image",S.current.files[0]);try{await v.put("/adverts/".concat(D,"/"),a),P.push("/adverts/".concat(D)),o.b.success("Advert updated successfully!",{position:"top-center"})}catch(c){var n,s;if(404!==(null===(n=c.response)||void 0===n?void 0:n.status))o.b.error("Could not update. Please try again",{position:"top-center"}),I(null===(s=c.response)||void 0===s?void 0:s.data)}},children:[Object(w.jsxs)(T.a,{children:[Object(w.jsx)(F.a,{md:5,lg:4,className:"d-none d-md-block p-0 p-md-2",children:Object(w.jsx)(b.a,{className:i.a.Content,children:k})}),Object(w.jsx)(F.a,{className:"py-2 p-0 p-md-2",md:7,lg:8,children:Object(w.jsxs)(b.a,{className:"".concat(i.a.Content," ").concat(z.a.Container," d-flex flex-column justify-content-center"),children:[Object(w.jsxs)(Q.a.Group,{className:"text-center",children:[Object(w.jsx)("figure",{children:Object(w.jsx)(R.a,{className:i.a.Image,src:_,rounded:!0})}),Object(w.jsx)("div",{children:Object(w.jsx)(Q.a.Label,{className:"".concat(W.a.Button," ").concat(W.a.Purple," btn"),htmlFor:"image-upload",children:"Update Image"})}),Object(w.jsx)(Q.a.File,{id:"image-upload",accept:"image/*",onChange:e=>{e.target.files.length&&(URL.revokeObjectURL(_),h({...m,image:URL.createObjectURL(e.target.files[0])}))},ref:S})]}),null===B||void 0===B||null===(j=B.image)||void 0===j?void 0:j.map(((e,t)=>Object(w.jsx)(H.a,{variant:"warning",children:e},t))),Object(w.jsx)("div",{className:"d-md-none",children:k})]})})]}),null===(u=B.non_field_errors)||void 0===u?void 0:u.map(((e,t)=>Object(w.jsx)(H.a,{variant:"warning",className:"mt-3",children:e},t)))]})};var ke=function(){var e,t,a,s,c,r;const[l,d]=Object(n.useState)({}),[j,u]=Object(n.useState)({name:"",email:"",mobile:"",content:"",advert_id:""}),{name:m,email:h,mobile:p,content:x,advert_id:O}=j,[g,A]=Object(n.useState)([]),N=Object(f.f)();Object(n.useEffect)((()=>{(async()=>{try{const e=await v.get("/adverts/");A(e.data.results)}catch(e){console.error("Error fetching adverts:",e)}})()}),[]);const C=e=>{u({...j,[e.target.name]:e.target.value})};return Object(w.jsx)(Q.a,{onSubmit:async e=>{e.preventDefault();const t=new FormData;t.append("name",m),t.append("email",h),t.append("mobile",p),t.append("content",x),t.append("advert_id",O);try{await v.post("/adoptions/",t),o.b.success("Adoption Query Sent, we will be in touch within 3 working days.",{position:"top-center"}),N.push("/")}catch(s){var a,n;if(o.b.error("Adoption Query not sent. Please try again",{position:"top-center"}),401!==(null===(a=s.response)||void 0===a?void 0:a.status))d(null===(n=s.response)||void 0===n?void 0:n.data)}},children:Object(w.jsx)(T.a,{children:Object(w.jsx)(F.a,{className:"py-2 p-0 p-md-2",md:12,children:Object(w.jsxs)(b.a,{className:"".concat(i.a.Content),children:[Object(w.jsxs)(Q.a.Group,{children:[Object(w.jsx)(Q.a.Label,{children:"Name"}),Object(w.jsx)(Q.a.Control,{type:"text",name:"name",value:m,onChange:C})]}),null===(e=l.name)||void 0===e?void 0:e.map(((e,t)=>Object(w.jsx)(H.a,{variant:"warning",children:e},t))),Object(w.jsxs)(Q.a.Group,{children:[Object(w.jsx)(Q.a.Label,{children:"Email Address"}),Object(w.jsx)(Q.a.Control,{type:"email",name:"email",value:h,onChange:C})]}),null===(t=l.email)||void 0===t?void 0:t.map(((e,t)=>Object(w.jsx)(H.a,{variant:"warning",children:e},t))),Object(w.jsxs)(Q.a.Group,{children:[Object(w.jsx)(Q.a.Label,{children:"Mobile"}),Object(w.jsx)(Q.a.Control,{type:"text",name:"mobile",value:p,onChange:C})]}),null===(a=l.mobile)||void 0===a?void 0:a.map(((e,t)=>Object(w.jsx)(H.a,{variant:"warning",children:e},t))),Object(w.jsxs)(Q.a.Group,{children:[Object(w.jsx)(Q.a.Label,{children:"Content"}),Object(w.jsx)(Q.a.Control,{as:"textarea",rows:4,name:"content",value:x,onChange:C})]}),null===(s=l.content)||void 0===s?void 0:s.map(((e,t)=>Object(w.jsx)(H.a,{variant:"warning",children:e},t))),Object(w.jsxs)(Q.a.Group,{children:[Object(w.jsx)(Q.a.Label,{children:"Select an Advert"}),Object(w.jsxs)(Q.a.Control,{as:"select",name:"advert_id",value:O,onChange:C,children:[Object(w.jsx)("option",{value:"",children:"Select an advert..."}),g.map((e=>Object(w.jsx)("option",{value:e.id,children:e.title},e.id)))]})]}),null===(c=l.advert_id)||void 0===c?void 0:c.map(((e,t)=>Object(w.jsx)(H.a,{variant:"warning",children:e},t))),Object(w.jsx)(G.a,{className:"".concat(W.a.Button," ").concat(W.a.Purple),onClick:()=>N.goBack(),children:"Cancel"}),Object(w.jsx)(G.a,{className:"".concat(W.a.Button," ").concat(W.a.Purple),type:"submit",children:"Submit Request"}),null===(r=l.non_field_errors)||void 0===r?void 0:r.map(((e,t)=>Object(w.jsx)(H.a,{variant:"warning",className:"mt-3",children:e},t)))]})})})})},Ee=a(95),Qe=a.n(Ee);var Ge=e=>{const{id:t,profile_id:a,profile_image:n,created_at:s,advert_id:c,name:r,email:l,mobile:j,content:b,adoptionPage:u}=e,m=B(),h=m&&m.is_staff_user,p=Object(f.f)();return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("hr",{}),Object(w.jsxs)(ne.a,{className:i.a.Content,children:[Object(w.jsx)(ne.a.Body,{children:Object(w.jsxs)(se.a,{className:"align-items-center justify-content-between",children:[Object(w.jsx)(d.b,{to:"/profiles/".concat(a),children:Object(w.jsx)(L,{src:n,height:55})}),Object(w.jsxs)("div",{className:"d-flex align-items-center",children:[Object(w.jsx)("span",{children:s}),h&&u&&Object(w.jsx)(me,{handleDelete:async()=>{try{await g.delete("/adoptions/".concat(t,"/")),p.goBack(),o.b.success("Deletion Successful",{position:"top-center"})}catch(e){}}})]})]})}),Object(w.jsx)(ne.a.Body,{children:Object(w.jsx)(d.b,{to:"/adoptions/".concat(t),children:Object(w.jsxs)(ne.a.Text,{className:"text-left",children:[Object(w.jsx)("strong",{children:"Name:"})," ",r]})})}),Object(w.jsxs)(ne.a.Body,{children:[c&&Object(w.jsx)(ne.a.Title,{className:"".concat(Qe.a.CardTitle),children:c}),l&&Object(w.jsxs)(ne.a.Text,{className:"text-left",children:[Object(w.jsx)("strong",{children:"Email:"})," ",l]}),j&&Object(w.jsxs)(ne.a.Text,{className:"text-left",children:[Object(w.jsx)("strong",{children:"Mobile:"})," ",j]}),b&&Object(w.jsxs)(ne.a.Text,{className:"text-left",children:[Object(w.jsx)("strong",{children:"Adoption Query:"})," ",b]})]})]})]})};var Re=function(){const{id:e}=Object(f.h)(),[t,a]=Object(n.useState)({results:[]});return Object(n.useEffect)((()=>{(async()=>{try{const[{data:t}]=await Promise.all([v.get("/adoptions/".concat(e))]);a({results:[t]})}catch(t){}})()}),[e]),Object(w.jsxs)(T.a,{className:"h-100",children:[Object(w.jsxs)(F.a,{className:"py-2 p-0 p-lg-2",lg:8,children:[Object(w.jsx)(Pe,{mobile:!0}),Object(w.jsx)(Ge,{...t.results[0],setAdoptions:a,adoptionPage:!0})]}),Object(w.jsx)(F.a,{lg:4,className:"d-none d-lg-block p-0 p-lg-2",children:Object(w.jsx)(Pe,{})})]})},Fe=a(76),Te=a.n(Fe);var He=function(e){let{message:t,filter:a=""}=e;const[s,c]=Object(n.useState)({results:[]}),[r,l]=Object(n.useState)(!1),{pathname:o}=Object(f.g)(),[d,j]=Object(n.useState)("");return Object(n.useEffect)((()=>{l(!1);const e=setTimeout((()=>{(async()=>{try{const{data:e}=await v.get("/adoptions/?".concat(a,"search=").concat(d));c(e),l(!0)}catch(e){}})()}),1e3);return()=>{clearTimeout(e)}}),[a,d,o]),Object(w.jsxs)(T.a,{className:"h-100",children:[Object(w.jsxs)(F.a,{className:"py-2 p-0 p-lg-2",lg:8,children:[Object(w.jsx)(Pe,{mobile:!0}),Object(w.jsx)("i",{className:"fas fa-search ".concat(Te.a.SearchIcon)}),Object(w.jsx)(Q.a,{className:Te.a.SearchBar,onSubmit:e=>e.preventDefault(),children:Object(w.jsx)(Q.a.Control,{type:"text",className:"mr-sm-2",placeholder:"Search Adoption Queries",value:d,onChange:e=>j(e.target.value)})}),r?Object(w.jsx)(w.Fragment,{children:s.results.length?Object(w.jsx)(ae.a,{children:s.results.map((e=>Object(w.jsx)(Ge,{...e,setAdoptions:c},e.id))),dataLength:s.results.length,loader:Object(w.jsx)(ee,{spinner:!0}),hasMore:!!s.next,next:()=>N(s,c)}):Object(w.jsx)(b.a,{className:i.a.Content,children:Object(w.jsx)(ee,{src:Be,message:t})})}):Object(w.jsx)(b.a,{className:i.a.Content,children:Object(w.jsx)(ee,{spinner:!0})})]}),Object(w.jsx)(F.a,{md:4,className:"d-none d-lg-block p-0 p-lg-2",children:Object(w.jsx)(Pe,{})})]})},Ue=a(96),Me=a.n(Ue);var Ke=()=>Object(w.jsxs)(b.a,{className:Me.a.About,children:[Object(w.jsx)(T.a,{className:"justify-content-center",children:Object(w.jsx)(F.a,{lg:8,className:"text-center",children:Object(w.jsx)("h1",{children:"About Purrfect Matches"})})}),Object(w.jsx)(T.a,{className:"justify-content-center",children:Object(w.jsxs)(F.a,{lg:8,className:"text-center",children:[Object(w.jsx)("p",{children:"Purrfect Matches helps connect stray cats with their forever humans. Every cat brought in to us is given a health check. The health check ensures they are free from fleas, worms, ticks, and any other parasites. It also makes sure they are up to date on their vaccinations and are spayed/neutered. This means that when they are finally ready to go to their forever home, they can do so happy and healthy."}),Object(w.jsx)("hr",{}),Object(w.jsx)("p",{children:"Please feel free to browse the cats we currently have in our care. If any call out to you, don't hesitate to register for free to be able to enquire over adopting the little cutie, or letting us know of any queries you may have."}),Object(w.jsx)("hr",{}),Object(w.jsx)("p",{children:"We look forward to helping you find your Purrfect Match!"})]})})]}),We=a(97),Ye=a.n(We);const Ve=Object(n.createContext)(),Ze=Object(n.createContext)(),qe=e=>{let{children:t}=e;const[a,s]=Object(n.useState)({pageProfile:{results:[]}}),c=B();return Object(n.useEffect)((()=>{(async()=>{try{await v.get("/profiles/"),s((e=>({...e})))}catch(e){}})()}),[c]),Object(w.jsx)(Ve.Provider,{value:a,children:Object(w.jsx)(Ze.Provider,{value:s,children:t})})};var ze=function(){const[e,t]=Object(n.useState)(!1),{id:a}=Object(f.h)(),s=Object(n.useContext)(Ze),{pageProfile:c}=Object(n.useContext)(Ve),[r]=c.results;Object(n.useEffect)((()=>{(async()=>{try{const[{data:e}]=await Promise.all([v.get("/profiles/".concat(a,"/"))]);s((t=>({...t,pageProfile:{results:[e]}}))),t(!0)}catch(e){}})()}),[a,s]);const l=Object(w.jsxs)(w.Fragment,{children:[(null===r||void 0===r?void 0:r.is_owner)&&Object(w.jsx)(he,{id:null===r||void 0===r?void 0:r.id}),Object(w.jsxs)(T.a,{noGutters:!0,className:"px-3 text-center",children:[Object(w.jsx)(F.a,{lg:3,className:"text-lg-left",children:Object(w.jsx)(R.a,{className:Ye.a.ProfileImage,roundedCircle:!0,src:null===r||void 0===r?void 0:r.image})}),Object(w.jsx)(F.a,{lg:6,children:Object(w.jsx)("h3",{className:"m-2",children:null===r||void 0===r?void 0:r.owner})})]})]}),o=Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("hr",{}),Object(w.jsxs)("p",{className:"text-center",children:[Object(w.jsx)("strong",{children:"Name:"})," ",null===r||void 0===r?void 0:r.name]}),Object(w.jsxs)("p",{className:"text-center",children:[Object(w.jsx)("strong",{children:"Age:"})," ",null===r||void 0===r?void 0:r.age]}),Object(w.jsxs)("p",{className:"text-center",children:[Object(w.jsx)("strong",{children:"Email:"})," ",null===r||void 0===r?void 0:r.email]}),Object(w.jsxs)("p",{className:"text-center",children:[Object(w.jsx)("strong",{children:"Mobile:"})," ",null===r||void 0===r?void 0:r.mobile]}),Object(w.jsxs)("p",{className:"text-center",children:[Object(w.jsx)("strong",{children:"Location:"})," ",null===r||void 0===r?void 0:r.location]}),Object(w.jsxs)("p",{className:"text-center",children:[Object(w.jsx)("strong",{children:"Previous Pets:"})," ",null===r||void 0===r?void 0:r.previously_owned]}),Object(w.jsxs)("p",{className:"text-center",children:[Object(w.jsx)("strong",{children:"Current Pets:"})," ",null===r||void 0===r?void 0:r.currently_own]}),Object(w.jsxs)("p",{className:"text-center",children:[Object(w.jsx)("strong",{children:"Relationship Status:"})," ",null===r||void 0===r?void 0:r.relationship_status]}),Object(w.jsxs)("p",{className:"text-center",children:[Object(w.jsx)("strong",{children:"Children:"})," ",null===r||void 0===r?void 0:r.children]}),Object(w.jsxs)("p",{className:"text-center",children:[Object(w.jsx)("strong",{children:"Housing:"})," ",null===r||void 0===r?void 0:r.housing]}),Object(w.jsxs)("p",{className:"text-center",children:[Object(w.jsx)("strong",{children:"Hobbies:"})," ",null===r||void 0===r?void 0:r.hobbies]}),Object(w.jsxs)("p",{className:"text-center",children:[Object(w.jsx)("strong",{children:"Preferred Breed:"})," ",null===r||void 0===r?void 0:r.preferred_breed]}),Object(w.jsxs)("p",{className:"text-center",children:[Object(w.jsx)("strong",{children:"Preferred Age:"})," ",null===r||void 0===r?void 0:r.preferred_age]}),Object(w.jsxs)("p",{className:"text-center",children:[Object(w.jsx)("strong",{children:"Preferred Sex:"})," ",null===r||void 0===r?void 0:r.preferred_sex]}),Object(w.jsx)("hr",{})]});return Object(w.jsxs)(T.a,{children:[Object(w.jsxs)(F.a,{className:"py-2 p-0 p-lg-2",lg:8,children:[Object(w.jsx)(Pe,{mobile:!0}),Object(w.jsx)(b.a,{className:i.a.Content,children:e?Object(w.jsxs)(w.Fragment,{children:[l,o]}):Object(w.jsx)(ee,{spinner:!0})})]}),Object(w.jsx)(F.a,{lg:4,className:"d-none d-lg-block p-0 p-lg-2",children:Object(w.jsx)(Pe,{})})]})};var Je=()=>{var e,t;const[a,s]=Object(n.useState)(""),[c,r]=Object(n.useState)({}),l=Object(f.f)(),{id:d}=Object(f.h)(),j=B(),u=I();Object(n.useEffect)((()=>{var e;(null===j||void 0===j||null===(e=j.profile_id)||void 0===e?void 0:e.toString())===d?s(j.username):l.push("/")}),[j,l,d]);return Object(w.jsx)(T.a,{children:Object(w.jsx)(F.a,{className:"py-2 mx-auto text-center",md:6,children:Object(w.jsx)(b.a,{className:i.a.Content,children:Object(w.jsxs)(Q.a,{onSubmit:async e=>{e.preventDefault();try{await g.put("/dj-rest-auth/user/",{username:a}),u((e=>({...e,username:a}))),o.b.success("Username updated!",{position:"top-center"}),l.goBack()}catch(n){var t;r(null===(t=n.response)||void 0===t?void 0:t.data)}},className:"my-2",children:[Object(w.jsxs)(Q.a.Group,{children:[Object(w.jsx)(Q.a.Label,{children:"Change Username"}),Object(w.jsx)(Q.a.Control,{placeholder:"username",type:"text",value:a,onChange:e=>s(e.target.value)})]}),null===c||void 0===c||null===(e=c.username)||void 0===e?void 0:e.map(((e,t)=>Object(w.jsx)(H.a,{variant:"warning",children:e},t))),Object(w.jsx)(G.a,{className:"".concat(W.a.Button," ").concat(W.a.Purple),onClick:()=>l.goBack(),children:"Cancel"}),Object(w.jsx)(G.a,{className:"".concat(W.a.Button," ").concat(W.a.Purple),type:"submit",children:"Save"}),null===(t=c.non_field_errors)||void 0===t?void 0:t.map(((e,t)=>Object(w.jsx)(H.a,{variant:"warning",className:"mt-3",children:e},t)))]})})})})};var Xe=()=>{var e,t,a;const s=Object(f.f)(),{id:c}=Object(f.h)(),r=B(),[l,d]=Object(n.useState)({new_password1:"",new_password2:""}),{new_password1:j,new_password2:u}=l,[m,h]=Object(n.useState)({}),p=e=>{d({...l,[e.target.name]:e.target.value})};Object(n.useEffect)((()=>{var e;(null===r||void 0===r||null===(e=r.profile_id)||void 0===e?void 0:e.toString())!==c&&s.push("/")}),[r,s,c]);return Object(w.jsx)(T.a,{children:Object(w.jsx)(F.a,{className:"py-2 mx-auto text-center",md:6,children:Object(w.jsx)(b.a,{className:i.a.Content,children:Object(w.jsxs)(Q.a,{onSubmit:async e=>{e.preventDefault();try{await g.post("/dj-rest-auth/password/change/",l),s.goBack(),o.b.success("Password updated!",{position:"top-center"})}catch(a){var t;o.b.error("Password could not be updated. Please try again",{position:"top-center"}),h(null===(t=a.response)||void 0===t?void 0:t.data)}},children:[Object(w.jsxs)(Q.a.Group,{children:[Object(w.jsx)(Q.a.Label,{children:"New Password"}),Object(w.jsx)(Q.a.Control,{placeholder:"new password",type:"password",value:j,onChange:p,name:"new_password1"})]}),null===m||void 0===m||null===(e=m.new_password1)||void 0===e?void 0:e.map(((e,t)=>Object(w.jsx)(H.a,{variant:"warning",children:e},t))),Object(w.jsxs)(Q.a.Group,{children:[Object(w.jsx)(Q.a.Label,{children:"Confirm New Password"}),Object(w.jsx)(Q.a.Control,{placeholder:"confirm new password",type:"password",value:u,onChange:p,name:"new_password2"})]}),null===m||void 0===m||null===(t=m.new_password2)||void 0===t?void 0:t.map(((e,t)=>Object(w.jsx)(H.a,{variant:"warning",children:e},t))),Object(w.jsx)(G.a,{className:"".concat(W.a.Button," ").concat(W.a.Purple),onClick:()=>s.goBack(),children:"Cancel"}),Object(w.jsx)(G.a,{type:"submit",className:"".concat(W.a.Button," ").concat(W.a.Purple),children:"Save"}),null===(a=m.non_field_errors)||void 0===a?void 0:a.map(((e,t)=>Object(w.jsx)(H.a,{variant:"warning",className:"mt-3",children:e},t)))]})})})})};var $e=()=>{var e,t,a,s,c,r,l,d,j,u,m,h,p,x,O,g;const A=B(),N=I(),{id:C}=Object(f.h)(),y=Object(f.f)(),_=Object(n.useRef)(),[S,P]=Object(n.useState)({name:"",age:"",email:"",mobile:"",location:"",previously_owned:"",currently_own:"",relationship_status:"",children:"",housing:"",hobbies:"",preferred_breed:"",preferred_age:"",preferred_sex:"",image:""}),{name:D,age:L,email:k,mobile:E,location:U,previously_owned:M,currently_own:K,relationship_status:Y,children:V,housing:Z,hobbies:q,preferred_breed:z,preferred_age:J,preferred_sex:X,image:$}=S,[ee,te]=Object(n.useState)({});Object(n.useEffect)((()=>{(async()=>{var e;if((null===A||void 0===A||null===(e=A.profile_id)||void 0===e?void 0:e.toString())===C)try{const{data:e}=await v.get("/profiles/".concat(C,"/")),{name:t,age:a,email:n,mobile:s,location:c,previously_owned:r,currently_own:l,relationship_status:i,children:o,housing:d,hobbies:j,preferred_breed:b,preferred_age:u,preferred_sex:m,image:h}=e;P({name:t,age:a,email:n,mobile:s,location:c,previously_owned:r,currently_own:l,relationship_status:i,children:o,housing:d,hobbies:j,preferred_breed:b,preferred_age:u,preferred_sex:m,image:h})}catch(t){y.push("/")}else y.push("/")})()}),[A,y,C]);const ae=e=>{P({...S,[e.target.name]:e.target.value})},ne=Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)(Q.a.Group,{children:[Object(w.jsx)(Q.a.Label,{children:"Name"}),Object(w.jsx)(Q.a.Control,{type:"text",value:D,onChange:ae,name:"name"})]}),null===ee||void 0===ee||null===(e=ee.name)||void 0===e?void 0:e.map(((e,t)=>Object(w.jsx)(H.a,{variant:"warning",children:e},t))),Object(w.jsxs)(Q.a.Group,{children:[Object(w.jsx)(Q.a.Label,{children:"Age"}),Object(w.jsx)(Q.a.Control,{type:"integer",value:L,onChange:ae,name:"age"})]}),null===ee||void 0===ee||null===(t=ee.age)||void 0===t?void 0:t.map(((e,t)=>Object(w.jsx)(H.a,{variant:"warning",children:e},t))),Object(w.jsxs)(Q.a.Group,{children:[Object(w.jsx)(Q.a.Label,{children:"Email"}),Object(w.jsx)(Q.a.Control,{type:"email",value:k,onChange:ae,name:"email"})]}),null===ee||void 0===ee||null===(a=ee.email)||void 0===a?void 0:a.map(((e,t)=>Object(w.jsx)(H.a,{variant:"warning",children:e},t))),Object(w.jsxs)(Q.a.Group,{children:[Object(w.jsx)(Q.a.Label,{children:"Mobile"}),Object(w.jsx)(Q.a.Control,{type:"text",value:E,onChange:ae,name:"mobile"})]}),null===ee||void 0===ee||null===(s=ee.mobile)||void 0===s?void 0:s.map(((e,t)=>Object(w.jsx)(H.a,{variant:"warning",children:e},t))),Object(w.jsxs)(Q.a.Group,{children:[Object(w.jsx)(Q.a.Label,{children:"Location"}),Object(w.jsx)(Q.a.Control,{type:"text",value:U,onChange:ae,name:"location"})]}),null===ee||void 0===ee||null===(c=ee.location)||void 0===c?void 0:c.map(((e,t)=>Object(w.jsx)(H.a,{variant:"warning",children:e},t))),Object(w.jsxs)(Q.a.Group,{children:[Object(w.jsx)(Q.a.Label,{children:"Previous Pets"}),Object(w.jsx)(Q.a.Control,{type:"text",value:M,onChange:ae,name:"previously_owned"})]}),null===ee||void 0===ee||null===(r=ee.previously_owned)||void 0===r?void 0:r.map(((e,t)=>Object(w.jsx)(H.a,{variant:"warning",children:e},t))),Object(w.jsxs)(Q.a.Group,{children:[Object(w.jsx)(Q.a.Label,{children:"Current Pets"}),Object(w.jsx)(Q.a.Control,{type:"text",value:K,onChange:ae,name:"currently_own"})]}),null===ee||void 0===ee||null===(l=ee.currently_own)||void 0===l?void 0:l.map(((e,t)=>Object(w.jsx)(H.a,{variant:"warning",children:e},t))),Object(w.jsxs)(Q.a.Group,{children:[Object(w.jsx)(Q.a.Label,{children:"Relationship Status"}),Object(w.jsx)(Q.a.Control,{type:"text",value:Y,onChange:ae,name:"relationship_status"})]}),null===ee||void 0===ee||null===(d=ee.relationship_status)||void 0===d?void 0:d.map(((e,t)=>Object(w.jsx)(H.a,{variant:"warning",children:e},t))),Object(w.jsxs)(Q.a.Group,{children:[Object(w.jsx)(Q.a.Label,{children:"Children in the home"}),Object(w.jsx)(Q.a.Control,{type:"text",value:V,onChange:ae,name:"children"})]}),null===ee||void 0===ee||null===(j=ee.children)||void 0===j?void 0:j.map(((e,t)=>Object(w.jsx)(H.a,{variant:"warning",children:e},t))),Object(w.jsxs)(Q.a.Group,{children:[Object(w.jsx)(Q.a.Label,{children:"Housing Situation"}),Object(w.jsx)(Q.a.Control,{type:"text",value:Z,onChange:ae,name:"housing"})]}),null===ee||void 0===ee||null===(u=ee.housing)||void 0===u?void 0:u.map(((e,t)=>Object(w.jsx)(H.a,{variant:"warning",children:e},t))),Object(w.jsxs)(Q.a.Group,{children:[Object(w.jsx)(Q.a.Label,{children:"Hobbies"}),Object(w.jsx)(Q.a.Control,{type:"text",value:q,onChange:ae,name:"hobbies"})]}),null===ee||void 0===ee||null===(m=ee.hobbies)||void 0===m?void 0:m.map(((e,t)=>Object(w.jsx)(H.a,{variant:"warning",children:e},t))),Object(w.jsxs)(Q.a.Group,{children:[Object(w.jsx)(Q.a.Label,{children:"Preferred Breed"}),Object(w.jsx)(Q.a.Control,{type:"text",value:z,onChange:ae,name:"preferred_breed"})]}),null===ee||void 0===ee||null===(h=ee.preferred_breed)||void 0===h?void 0:h.map(((e,t)=>Object(w.jsx)(H.a,{variant:"warning",children:e},t))),Object(w.jsxs)(Q.a.Group,{children:[Object(w.jsx)(Q.a.Label,{children:"Preferred Age"}),Object(w.jsx)(Q.a.Control,{type:"text",value:J,onChange:ae,name:"preferred_age"})]}),null===ee||void 0===ee||null===(p=ee.preferred_age)||void 0===p?void 0:p.map(((e,t)=>Object(w.jsx)(H.a,{variant:"warning",children:e},t))),Object(w.jsxs)(Q.a.Group,{children:[Object(w.jsx)(Q.a.Label,{children:"Preferred Sex"}),Object(w.jsx)(Q.a.Control,{type:"text",value:X,onChange:ae,name:"preferred_sex"})]}),null===ee||void 0===ee||null===(x=ee.preferred_sex)||void 0===x?void 0:x.map(((e,t)=>Object(w.jsx)(H.a,{variant:"warning",children:e},t))),Object(w.jsx)(G.a,{className:"".concat(W.a.Button," ").concat(W.a.Purple),onClick:()=>y.goBack(),children:"Cancel"}),Object(w.jsx)(G.a,{className:"".concat(W.a.Button," ").concat(W.a.Purple),type:"submit",children:"Save"})]});return Object(w.jsxs)(Q.a,{onSubmit:async e=>{var t;e.preventDefault();const a=new FormData;var n;(a.append("name",D),a.append("age",L),a.append("email",k),a.append("mobile",E),a.append("location",U),a.append("previously_owned",M),a.append("currently_own",K),a.append("relationship_status",Y),a.append("children",V),a.append("housing",Z),a.append("hobbies",q),a.append("preferred_breed",z),a.append("preferred_age",J),a.append("preferred_sex",X),null!==_&&void 0!==_&&null!==(t=_.current)&&void 0!==t&&t.files[0])&&a.append("image",null===_||void 0===_||null===(n=_.current)||void 0===n?void 0:n.files[0]);try{const{data:e}=await v.put("/profiles/".concat(C,"/"),a);N((t=>({...t,profile_image:e.image}))),o.b.success("Profile updated successfully!",{position:"top-center"}),y.goBack()}catch(c){var s;o.b.error("Profile not updated. Please try again",{position:"top-center"}),te(null===(s=c.response)||void 0===s?void 0:s.data)}},children:[Object(w.jsxs)(T.a,{children:[Object(w.jsx)(F.a,{md:5,lg:6,className:"d-none d-md-block p-0 p-md-2 text-center",children:Object(w.jsx)(b.a,{className:i.a.Content,children:ne})}),Object(w.jsx)(F.a,{className:"py-2 p-0 p-md-2 text-center",md:7,lg:6,children:Object(w.jsxs)(b.a,{className:i.a.Content,children:[Object(w.jsxs)(Q.a.Group,{children:[$&&Object(w.jsx)("figure",{children:Object(w.jsx)(R.a,{src:$,fluid:!0})}),null===ee||void 0===ee||null===(O=ee.image)||void 0===O?void 0:O.map(((e,t)=>Object(w.jsx)(H.a,{variant:"warning",children:e},t))),Object(w.jsx)("div",{children:Object(w.jsx)(Q.a.Label,{className:"".concat(W.a.Button," ").concat(W.a.Blue," btn my-auto"),htmlFor:"image-upload",children:"Change Profile Image"})}),Object(w.jsx)(Q.a.File,{id:"image-upload",ref:_,accept:"image/*",onChange:e=>{e.target.files.length&&P({...S,image:URL.createObjectURL(e.target.files[0])})}})]}),Object(w.jsx)("div",{className:"d-md-none",children:ne})]})})]}),null===(g=ee.non_field_errors)||void 0===g?void 0:g.map(((e,t)=>Object(w.jsx)(H.a,{variant:"warning",className:"mt-3",children:e},t)))]})},et=a(98),tt=a.n(et);var at=()=>Object(w.jsx)("div",{className:tt.a.NotFound,children:Object(w.jsx)(ee,{src:Be,message:"Sorry, the page you are looking for does not exist"})});var nt=function(){const e=B(),t=(null===e||void 0===e?void 0:e.profile_id)||"";return Object(w.jsxs)("div",{className:i.a.App,children:[Object(w.jsx)(E,{}),Object(w.jsxs)(b.a,{className:i.a.Main,children:[Object(w.jsx)(o.a,{}),Object(w.jsxs)(f.c,{children:[Object(w.jsx)(f.a,{exact:!0,path:"/",render:()=>Object(w.jsx)(De,{message:"Hmm... No results. Try again."})}),Object(w.jsx)(f.a,{exact:!0,path:"/liked",render:()=>Object(w.jsx)(De,{message:"Hmm... No results. Adjust search or like a kitty.",filter:"likes__owner__profile=".concat(t,"&ordering=-likes__created_at&")})}),Object(w.jsx)(f.a,{exact:!0,path:"/adoptions",render:()=>Object(w.jsx)(He,{message:"Hmm... No results. Plase adjust search."})}),Object(w.jsx)(f.a,{exact:!0,path:"/signin",render:()=>Object(w.jsx)(Z,{})}),Object(w.jsx)(f.a,{exact:!0,path:"/signup",render:()=>Object(w.jsx)(V,{})}),Object(w.jsx)(f.a,{exact:!0,path:"/adverts/create",render:()=>Object(w.jsx)(te,{})}),Object(w.jsx)(f.a,{exact:!0,path:"/adverts/:id",render:()=>Object(w.jsx)(we,{})}),Object(w.jsx)(f.a,{exact:!0,path:"/adverts/:id/edit",render:()=>Object(w.jsx)(Le,{})}),Object(w.jsx)(f.a,{exact:!0,path:"/adoptions/create",render:()=>Object(w.jsx)(ke,{})}),Object(w.jsx)(f.a,{exact:!0,path:"/adoptions/:id",render:()=>Object(w.jsx)(Re,{})}),Object(w.jsx)(f.a,{exact:!0,path:"/about",render:()=>Object(w.jsx)(Ke,{})}),Object(w.jsx)(f.a,{exact:!0,path:"/profiles/:id",render:()=>Object(w.jsx)(ze,{})}),Object(w.jsx)(f.a,{exact:!0,path:"/profiles/:id/edit/username",render:()=>Object(w.jsx)(Je,{})}),Object(w.jsx)(f.a,{exact:!0,path:"/profiles/:id/edit/password",render:()=>Object(w.jsx)(Xe,{})}),Object(w.jsx)(f.a,{exact:!0,path:"/profiles/:id/edit",render:()=>Object(w.jsx)($e,{})}),Object(w.jsx)(f.a,{render:()=>Object(w.jsx)(at,{})})]})]})]})};var st=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,138)).then((t=>{let{getCLS:a,getFID:n,getFCP:s,getLCP:c,getTTFB:r}=t;a(e),n(e),s(e),c(e),r(e)}))};r.a.render(Object(w.jsx)(d.a,{children:Object(w.jsx)(S,{children:Object(w.jsx)(qe,{children:Object(w.jsx)(nt,{})})})}),document.getElementById("root")),st()},21:function(e,t,a){e.exports={NavBar:"NavBar_NavBar__1amC6",NavLink:"NavBar_NavLink__34ons",Active:"NavBar_Active__3PBZb"}},26:function(e,t,a){e.exports={Row:"SignInUpForm_Row__3PbVy",Input:"SignInUpForm_Input__3xaLZ",Header:"SignInUpForm_Header__3joQJ",Link:"SignInUpForm_Link__1BeMm",Container:"SignInUpForm_Container__2cuBp",SignInCol:"SignInUpForm_SignInCol__3ImPK",SignUpCol:"SignInUpForm_SignUpCol__28o4y"}},45:function(e,t,a){e.exports={Form:"CommentCreateEditForm_Form__1Qeyz",Button:"CommentCreateEditForm_Button__sGFSX"}},54:function(e,t,a){e.exports={CardTitle:"Advert_CardTitle__1A7tD",AdvertBar:"Advert_AdvertBar__2RfEg",Advert:"Advert_Advert__DGAH2",Heart:"Advert_Heart__3NptA",HeartOutline:"Advert_HeartOutline__oe7Kv"}},55:function(e,t,a){e.exports={DropdownItem:"MoreDropdown_DropdownItem__2E4UM",Absolute:"MoreDropdown_Absolute__2RO70"}},60:function(e,t,a){e.exports={Container:"AdvertCreateEditForm_Container__1Tsx0"}},74:function(e,t,a){e.exports={Owner:"Comment_Owner__3sgYe",Date:"Comment_Date__10qt0"}},75:function(e,t,a){e.exports={SearchBar:"AdvertsPage_SearchBar__32yZt",SearchIcon:"AdvertsPage_SearchIcon__2q60V"}},76:function(e,t,a){e.exports={SearchBar:"AdoptionsPage_SearchBar__3xgrX",SearchIcon:"AdoptionsPage_SearchIcon__3XLap"}},90:function(e,t,a){e.exports={Avatar:"Avatar_Avatar__196lW"}},91:function(e,t,a){e.exports={Asset:"Asset_Asset__1dBcX"}},94:function(e,t,a){e.exports={Content:"Info_Content__3RiVZ"}},95:function(e,t,a){e.exports={CardTitle:"Adoption_CardTitle__2bj97"}},96:function(e,t,a){e.exports={Container:"About_Container__2dzDh"}},97:function(e,t,a){e.exports={ProfileImage:"ProfilePage_ProfileImage__7dvRw"}},98:function(e,t,a){e.exports={NotFound:"NotFound_NotFound__AmwKj"}}},[[135,1,2]]]);
//# sourceMappingURL=main.cf96036b.chunk.js.map